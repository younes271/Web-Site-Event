(function(a){"use strict";window.lastudioTimeLine=function(b){var c=a(window),d=this,e=b.find(".lastudio-timeline__line"),f=e.find(".lastudio-timeline__line-progress"),g=b.find(".lastudio-timeline-item"),h=b.find(".timeline-item__point"),i=c.scrollTop(),j=-1,k=a(window).height(),l=c.outerHeight(),m=-1,n=null,o=!1;d.onScroll=function(){i=c.scrollTop(),d.updateFrame(),d.animateCards()},d.onResize=function(){i=c.scrollTop(),k=c.height(),d.updateFrame()},d.updateWindow=function(){o=!1,e.css({top:g.first().find(h).offset().top-g.first().offset().top,bottom:b.offset().top+b.outerHeight()-g.last().find(h).offset().top}),j!==i&&(j=i,m=k,d.updateProgress())},d.updateProgress=function(){var b=g.last().find(h).offset().top,c=i-f.offset().top+l/2;b<=i+l/2&&(c=b-f.offset().top),f.css({height:c+"px"}),g.each(function(){a(this).find(h).offset().top<i+.5*l?a(this).addClass("is--active"):a(this).removeClass("is--active")})},d.updateFrame=function(){o||(n=requestAnimationFrame(d.updateWindow)),o=!0},d.animateCards=function(){g.each(function(){a(this).offset().top<=i+.9*l&&a(this).hasClass("lastudio-timeline-item--animated")&&a(this).addClass("is--show")})},d.init=function(){a(document).ready(d.onScroll),a(window).on("scroll.lastudioTimeline",d.onScroll),a(window).on("resize.lastudioTimeline orientationchange.lastudioTimeline",LaStudioElementTools.debounce(50,d.onResize))}},a(window).on("elementor/frontend/init",function(){window.elementorFrontend.hooks.addAction("frontend/element_ready/lastudio-timeline.default",function(a){var b=a.find(".lastudio-timeline"),c=null;b.length&&(c=new lastudioTimeLine(b),c.init())})})})(jQuery);
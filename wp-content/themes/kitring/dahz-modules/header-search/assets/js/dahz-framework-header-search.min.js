!function(e){"use strict";window.dahz=window.dahz||{},dahz.headerSearch={init:_.once(function(a){dahz.headerSearch.set({modal:a,input:e('input[name="s"]',a),loader:e("[data-uk-spinner]",a),result:e(".de-header-search__result",a)}),dahz.headerSearch.input.focus(),dahz.headerSearch.listener(),dahz.headerSearch.modal.on("hide",this.searchFlush)}),set:function(e){_.extend(dahz.headerSearch,_.pick(e||{},"modal","input","loader","result"))},listener:function(){dahz.headerSearch.input.unbind("keyup"),dahz.headerSearch.input.keyup(_.debounce(dahz.headerSearch.searchProcess,1e3))},searchProcess:function(){var a=e(this).val();a.length>=2?dahz.headerSearch.searchContentRender(a):dahz.headerSearch.searchFlush()},searchContentRender:function(a){e.ajax({url:dahzFramework.ajaxURL,type:"POST",data:{action:"dahz_framework_search_product_render",keyword:a},beforeSend:function(){dahz.headerSearch.loader.removeClass("uk-invisible"),dahz.headerSearch.result.removeClass("de-header-search__result--found")},success:function(e){""===e?(dahz.headerSearch.loader.addClass("uk-invisible"),dahz.headerSearch.result.html('<span class="uk-modal-title">'+dahzFramework.language.emptyMessage+"</span>")):(dahz.headerSearch.loader.addClass("uk-invisible"),dahz.headerSearch.result.html(e).addClass("de-header-search__result--found"))}})},searchFlush:function(){dahz.headerSearch.input.val(""),dahz.headerSearch.result.html("").removeClass("de-header-search__result--found")}},e("#header-search-modal").on("show",function(){dahz.headerSearch.init(e(this))})}(jQuery);
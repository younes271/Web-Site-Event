!function(a){"use strict";window.dahz=window.dahz||{},dahz.headerCart={init:function(){dahz.headerCart.set({miniCart:a(".ds-mini-cart__item"),miniCartContainer:a(".de-header__mini-cart-container")}),a(document).on("wc_fragments_loaded",dahz.headerCart.loadMiniCart),a(document).on("wc_fragments_refreshed",dahz.headerCart.loadMiniCart),a(document).on("dahz_mobile_menu_loaded",dahz.headerCart.loadMiniCart)},loadMiniCart:function(){dahz.headerCart.miniCartContainer.attr("data-mini-cart-is-loaded","false"),dahz.headerCart.lazyCart()},set:function(a){_.extend(dahz.headerCart,_.pick(a||{},"miniCart","miniCartContainer"))},decodeUrlParameter:function(a){return decodeURIComponent((a+"").replace(/\+/g,"%20"))},renderCart:function(e){var t=a(".de-mini-cart__item-outer-container",a(e)),r="",i="";a(".de-header__mini-cart-btn--overlay",a(".de-header__mini-cart-btn")).remove(),t.length&&!t.hasClass("de-mini-cart__item-outer-container--empty")?(r=dahz.headerCart.decodeUrlParameter(t.data("total-price")),i=t.data("total-items"),a(".de-header__mini-cart-btn .de-cart__total-price").html(r),a(".de-header__mini-cart-btn .de-cart__total-item").html(i),a(".de-header__mini-cart-btn").removeClass("de-header__mini-cart--empty")):(a(".de-header__mini-cart-btn .de-cart__total-price").html(""),a(".de-header__mini-cart-btn .de-cart__total-item").html(""),a(".de-header__mini-cart-btn").addClass("de-header__mini-cart--empty")),dahz.headerCart.miniCartContainer.html(e).promise().done(function(){a(document).trigger("dahz_mini_cart_ready")})},lazyCart:function(){"false"===dahz.headerCart.miniCartContainer.attr("data-mini-cart-is-loaded")&&a.ajax({url:dahzFramework.ajaxURL,type:"POST",async:!0,beforeSend:function(){dahz.headerCart.miniCartContainer.attr("data-mini-cart-is-loaded","true"),a(".de-header__mini-cart-btn").append('<div class="de-header__mini-cart-btn--overlay uk-overlay-default uk-position-cover"><div class="uk-position-center" uk-spinner></div></div>')},error:function(){dahz.headerCart.miniCartContainer.attr("data-mini-cart-is-loaded","false"),a(".de-header__mini-cart-btn--overlay",a(".de-header__mini-cart-btn")).remove()},data:{action:"dahz_framework_header_lazy_mini_cart"},success:function(a){_.defer(dahz.headerCart.renderCart,a)}})}},dahz.headerCart.init()}(jQuery);
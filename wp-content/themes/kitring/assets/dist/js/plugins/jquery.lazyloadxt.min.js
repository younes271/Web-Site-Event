!function(e,t,n,o){function a(e,t){return e[t]===o?v[t]:e[t]}function i(){var e=t.pageYOffset;return e===o?h.scrollTop:e}function r(e,t){var n=v["on"+e];n&&(p(n)?n.call(t[0]):(n.addClass&&t.addClass(n.addClass),n.removeClass&&t.removeClass(n.removeClass))),t.trigger("lazy"+e,[t]),c()}function l(t){r(t.type,e(this).off(g,l))}function s(n){if(E.length){n=n||v.forceLoad,b=1/0;var o,a,s=i(),d=t.innerHeight||h.clientHeight,c=t.innerWidth||h.clientWidth;for(o=0,a=E.length;o<a;o++){var f,u=E[o],m=u[0],y=u[A],C=!1,z=n;if(w(h,m)){if(n||!y.visibleOnly||m.offsetWidth||m.offsetHeight){if(!z){var I=m.getBoundingClientRect(),T=y.edgeX,B=y.edgeY;z=(f=I.top+s-B-d)<=s&&I.bottom>-B&&I.left<=c+T&&I.right>-T}if(z){r("show",u);var L=y.srcAttr,X=p(L)?L(u):m.getAttribute(L);X&&(u.on(g,l),m.src=X),C=!0}else f<b&&(b=f)}}else C=!0;C&&(E.splice(o--,1),a--)}a||r("complete",e(h))}}function d(){I>1?(I=1,s(),setTimeout(d,v.throttle)):I=0}function c(e){E.length&&(e&&"scroll"===e.type&&e.currentTarget===t&&b>=i()||(I||setTimeout(d,0),I=2))}function f(){y.lazyLoadXT()}function u(){s(!0)}var A="lazyLoadXT",g="load error",h=n.documentElement||n.body,v={autoInit:!0,selector:"img[data-src]",blankImage:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",throttle:50,forceLoad:t.onscroll===o||!!t.operamini||!h.getBoundingClientRect,loadEvent:"pageshow",updateEvent:"load orientationchange resize scroll touchmove focus",forceEvent:"",oninit:{removeClass:"lazy"},onshow:{addClass:"lazy-hidden"},onload:{removeClass:"lazy-hidden",addClass:"lazy-loaded"},onerror:{removeClass:"lazy-hidden"},checkDuplicates:!0},m={srcAttr:"data-src",edgeX:500,edgeY:500,visibleOnly:!0},y=e(t),p=e.isFunction,C=e.extend,z=e.data||function(t,n){return e(t).data(n)},w=e.contains||function(e,t){for(;t=t.parentNode;)if(t===e)return!0;return!1},E=[],b=0,I=0;e[A]=C(v,m,e[A]),e.fn[A]=function(n){var o,i=a(n=n||{},"blankImage"),l=a(n,"checkDuplicates"),s=a(n,"scrollContainer"),d={};e(s).on("scroll",c);for(o in m)d[o]=a(n,o);return this.each(function(o,a){if(a===t)e(v.selector).lazyLoadXT(n);else{if(l&&z(a,"lazied"))return;var s=e(a).data("lazied",1);i&&"IMG"===a.tagName&&!a.src&&(a.src=i),s[A]=C({},d),r("init",s),E.push(s)}})},e(n).ready(function(){r("start",y),y.on(v.loadEvent,f).on(v.updateEvent,c).on(v.forceEvent,u),e(n).on(v.updateEvent,c),v.autoInit&&f()})}(window.jQuery||window.Zepto||window.$,window,document);